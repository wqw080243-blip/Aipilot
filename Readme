local Fluent = loadstring(game:HttpGet("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()
local Window = Fluent:CreateWindow{
    Title = "a1q Hub 2025+ | ULTIMATE",
    TabWidth = 160,
    Size = UDim2.fromOffset(720, 560),
    Acrylic = true,
    Theme = "Vynixu",
    MinimizeKey = Enum.KeyCode.RightControl
}

local CombatTab = Window:AddTab{Title="Combat",Icon="sword"}
local VisualTab = Window:AddTab{Title="Visuals",Icon="eye"}
local MiscTab = Window:AddTab{Title="Misc",Icon="settings"}
local TeamsTab = Window:AddTab{Title="Teams",Icon="users"}
local ExtraTab = Window:AddTab{Title="Extra",Icon="zap"}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CollectionService = game:GetService("CollectionService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Camera = workspace.CurrentCamera
local TeleportService = game:GetService("TeleportService")
local player = Players.LocalPlayer

-- FULL 2025 BYPASS (Ownership + GK + React Bypass)
pcall(function()
    for _,v in getgc(true) do
        if type(v)=="table" and rawget(v,"gkCheck") then
            local c = debug.getconstants(v.react)
            for i,val in pairs(c) do
                if val=="ignoreReactDecline" or val=="specialTool" then debug.setconstant(v.react,i,"ball")
                elseif val=="overlapCheck" then rawset(v,"check",function()return true end) debug.setconstant(v.react,i,"check") end
            end
        end
    end
    for _,v in getgc(true) do
        if type(v)=="function" and getfenv(v).script and getfenv(v).script.Name:find("Root") then
            local c = debug.getconstants(v)
            for i,val in pairs(c) do
                if val=="NetworkOwner" or val=="getNetworkOwner" then debug.setconstant(v,i,function()return player end) end
            end
        end
    end
end)

-- Variables
local reachOn = false
local reachDist = 15
local visOn = true
local stamOn = false
local predOn = false
local advPred = false
local gkReachOn = false
local gkReachDist = 30
local gkVisOn = false
local antiVotekick = false
local speedOn = false
local speedVal = 3
local thick = 2
local maxBounces = 6
local staminaConnection = nil

-- Visualizers
local hitbox = Instance.new("Part", workspace)
hitbox.Name = "a1qReach"
hitbox.Anchored = true
hitbox.CanCollide = false
hitbox.Transparency = 0.6
hitbox.Size = Vector3.new(reachDist, reachDist, reachDist)
hitbox.Color = Color3.fromRGB(255,80,80)
hitbox.Material = Enum.Material.ForceField

local box = Instance.new("SelectionBox", hitbox)
box.LineThickness = 0.03
box.Color3 = Color3.fromRGB(255,80,80)

local gkHitbox = Instance.new("Part", workspace)
gkHitbox.Name = "a1qGKReach"
gkHitbox.Anchored = true
gkHitbox.CanCollide = false
gkHitbox.Transparency = 0.5
gkHitbox.Size = Vector3.new(gkReachDist, gkReachDist, gkReachDist)
gkHitbox.Color = Color3.fromRGB(255,150,150)
gkHitbox.Material = Enum.Material.Neon

local gkBox = Instance.new("SelectionBox", gkHitbox)
gkBox.LineThickness = 0.04
gkBox.Color3 = Color3.fromRGB(255,100,100)

-- Prediction
local predLines = {}
local dot = Drawing.new("Circle")
dot.Thickness = 4; dot.Radius = 12; dot.Filled = true; dot.Color = Color3.fromRGB(255,0,0)
local timeLabel = Drawing.new("Text")
timeLabel.Size = 24; timeLabel.Center = true; timeLabel.Outline = true; timeLabel.Color = Color3.fromRGB(255,50,50)

local function getBall()
    for _,b in CollectionService:GetTagged("Ball") do if b:IsA("BasePart") then return b end end
    for _,b in workspace:GetDescendants() do
        if b:IsA("BasePart") and (b.Name:lower():find("ball") or b.Name:lower():find("football")) then return b end
    end
end

-- COMBAT TAB
CombatTab:AddToggle("Leg Reach",{Title="Leg Reach",Default=false,Callback=function(v) reachOn = v end})
CombatTab:AddSlider("Leg Reach Distance",{Min=3,Max=150,Default=15,Callback=function(v) reachDist = v hitbox.Size = Vector3.new(v,v,v) end})
CombatTab:AddToggle("Show Leg Visualizer",{Default=true,Callback=function(v) visOn = v end})

CombatTab:AddToggle("GK Reach",{Title="GK Reach (Hands)",Default=false,Callback=function(v) gkReachOn = v end})
CombatTab:AddSlider("GK Reach Distance",{Min=15,Max=80,Default=30,Callback=function(v) gkReachDist = v gkHitbox.Size = Vector3.new(v,v,v) end})
CombatTab:AddToggle("Show GK Visualizer",{Default=true,Callback=function(v) gkVisOn = v end})

CombatTab:AddToggle("Infinite Stamina",{Title="Infinite Stamina (Undetected Path)",Default=false,Callback=function(v)
    stamOn = v
    if v then
        Fluent:Notify({Title="a1q",Content="Infinite Stamina ENABLED",Duration=6})
        local s = player.PlayerScripts.controllers.movementController.stamina
        s.Value = 100
        staminaConnection = s:GetPropertyChangedSignal("Value"):Connect(function() s.Value = 100 end)
    else
        if staminaConnection then staminaConnection:Disconnect() staminaConnection = nil end
    end
end})

-- VISUAL TAB
VisualTab:AddToggle("Ball Predictor",{Default=false,Callback=function(v) predOn = v end})
VisualTab:AddToggle("Advanced Predictor",{Title="Adv. Predictor (Dot + Timer)",Default=false,Callback=function(v) advPred = v end})
VisualTab:AddSlider("Line Thickness",{Min=0.5,Max=10,Default=2,Callback=function(v) thick = v end})
VisualTab:AddSlider("Max Bounces",{Min=0,Max=15,Default=6,Callback=function(v) maxBounces = v end})

-- MISC TAB
MiscTab:AddButton({Title="TP to Ball",Callback=function()
    local b = getBall()
    if b and player.Character then player.Character.HumanoidRootPart.CFrame = b.CFrame * CFrame.new(0,5,0) end
end})
MiscTab:AddButton({Title="Bring Ball",Callback=function()
    local b = getBall()
    if b and player.Character then
        b.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(0,0,-4)
        b.Velocity = Vector3.zero
        b.RotVelocity = Vector3.zero
    end
end})
MiscTab:AddToggle("Anti Votekick",{Default=false,Callback=function(v)
    antiVotekick = v
    if v then
        spawn(function()
            while antiVotekick and task.wait() do
                if player.PlayerGui:FindFirstChild("main") and player.PlayerGui.main:FindFirstChild("voteKick") and player.PlayerGui.main.voteKick.Visible
                and player.PlayerGui.main.voteKick.main.user.Text == player.Name then
                    if #Players:GetPlayers() <= 1 then
                        player:Kick()
                        task.wait(1)
                        TeleportService:Teleport(game.PlaceId, player)
                    else
                        TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, player)
                    end
                end
            end
        end)
    end
end})

-- TEAMS TAB
TeamsTab:AddDropdown("Team Changer",{Values={"Home Team","Away Team","Home GK","Away GK","Fans","Home Subs"},Callback=function(v)
    local map = {["Home Team"]="Home",["Away Team"]="Away",["Home GK"]="Home GK",["Away GK"]="Away GK"}
    local team = game.Teams:FindFirstChild(map[v] or v)
    if team then player.Team = team end
end})

-- HEARTBEAT LOOP
RunService.Heartbeat:Connect(function()
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
    local hrp = player.Character.HumanoidRootPart
    local ball = getBall() if not ball then return end

    -- Leg Reach
    if reachOn then
        hitbox.CFrame = hrp.CFrame
        hitbox.Transparency = visOn and 0.6 or 1
        if (ball.Position - hrp.Position).Magnitude <= reachDist + 5 then
            for _,name in {"LeftFoot","RightFoot","LeftLowerLeg","RightLowerLeg"} do
                local limb = player.Character:FindFirstChild(name)
                if limb then firetouchinterest(limb, ball, 0) firetouchinterest(limb, ball, 1) end
            end
        end
    end

    -- GK Reach
    if gkReachOn then
        gkHitbox.CFrame = hrp.CFrame
        gkHitbox.Transparency = gkVisOn and 0.5 or 1
        if (ball.Position - hrp.Position).Magnitude <= gkReachDist + 8 then
            for _,name in {"RightHand","LeftHand","RightUpperArm","LeftUpperArm"} do
                local limb = player.Character:FindFirstChild(name)
                if limb then firetouchinterest(limb, ball, 0) firetouchinterest(limb, ball, 1) end
            end
        end
    end

    -- Ball Predictor (Advanced + Bounces)
    for i,v in pairs(predLines) do v:Destroy() end predLines = {}
    if predOn and ball then
        local pos = ball.Position
        local vel = ball.AssemblyLinearVelocity * 0.8
        local gravity = Vector3.new(0, -workspace.Gravity, 0)
        local bounces = 0
        repeat
            local line = Instance.new("Part", workspace)
            line.Anchored = true line.CanCollide = false line.Material = Enum.Material.Neon
            line.Color = Color3.fromRGB(0,255,255)
            line.Size = Vector3.new(thick, thick, vel.Magnitude * 0.05)
            line.CFrame = CFrame.new(pos, pos + vel)
            table.insert(predLines, line)
            pos += vel * 0.05
            vel += gravity * 0.05
            if pos.Y <= 3 and vel.Y < 0 then
                vel = Vector3.new(vel.X * 0.8, -vel.Y * 0.75, vel.Z * 0.8)
                bounces += 1
            end
        until bounces >= maxBounces or vel.Magnitude < 10

        if advPred then
            local future = ball.Position + ball.AssemblyLinearVelocity * 0.45
            local sp, onScreen = Camera:WorldToViewportPoint(future)
            if onScreen then
                dot.Position = Vector2.new(sp.X, sp.Y)
                dot.Visible = true
                timeLabel.Text = string.format("%.2fs", (hrp.Position - future).Magnitude / ball.AssemblyLinearVelocity.Magnitude)
                timeLabel.Position = Vector2.new(sp.X, sp.Y + 30)
                timeLabel.Visible = true
            else
                dot.Visible = false timeLabel.Visible = false
            end
        end
    else
        dot.Visible = false timeLabel.Visible = false
    end
end)

Fluent:Notify({Title="a1q Hub 2025+",Content="ULTIMATE VERSION LOADED | All features merged & working 100%",Duration=12})
