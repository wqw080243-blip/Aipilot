-- a1q Hub 2025+ | Clean & Organized Edition
-- Fully customizable reach | Best in the world

local Fluent = loadstring(game:HttpGet("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()
local firetouch = firetouchinterest or touchinterest or function(part, target, state)
    if part and target and state == 0 then part.CFrame = target.CFrame end
end

local Window = Fluent:CreateWindow{
    Title = "a1q Hub 2025+ | RFL Edition",
    TabWidth = 160,
    Size = UDim2.fromOffset(720, 600),
    Acrylic = true,
    Theme = "Vynixu"
}

-- Tabs
local MainTab       = Window:AddTab{Title = "Main",       Icon = "home"}
local VisualsTab    = Window:AddTab{Title = "Visuals",    Icon = "eye"}
local LocalTab      = Window:AddTab{Title = "Local Player", Icon = "user"}
local TeamsTab      = Window:AddTab{Title = "Teams",      Icon = "users"}
local MiscTab       = Window:AddTab{Title = "Misc",       Icon = "settings"}
local BallModsTab   = Window:AddTab{Title = "Ball Mods",  Icon = "circle"}
local AutoTab       = Window:AddTab{Title = "Auto Features", Icon = "zap"}

-- Services
local Players           = game:GetService("Players")
local RunService        = game:GetService("RunService")
local CollectionService = game:GetService("CollectionService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService  = game:GetService("UserInputService")
local TeleportService   = game:GetService("TeleportService")
local Camera            = workspace.CurrentCamera
local player            = Players.LocalPlayer

-- Bypass (2025 working)
pcall(function()
    for _, v in getgc(true) do
        if type(v) == "table" and rawget(v, "gkCheck") then
            local c = debug.getconstants(v.react)
            for i, val in pairs(c) do
                if val == "ignoreReactDecline" or val == "specialTool" then debug.setconstant(v.react, i, "ball")
                elseif val == "overlapCheck" then rawset(v, "check", function() return true end) debug.setconstant(v.react, i, "check") end
            end
        end
    end
    for _, v in getgc(true) do
        if type(v) == "function" and getfenv(v).script and getfenv(v).script.Name:find("Root") then
            local c = debug.getconstants(v)
            for i, val in pairs(c) do
                if val == "NetworkOwner" or val == "getNetworkOwner" then
                    debug.setconstant(v, i, function() return player end)
                end
            end
        end
    end
end)

-- Reach Settings
local reachOn = false
local reachMode = "Normal"

local reachNormal = {X = 15, Y = 15, Z = 15}
local reachComp   = {X = 35, Y = 35, Z = 35}
local reachRFL    = {X = 75, Y = 75, Z = 75}

local offsetX, offsetY, offsetZ = 0, 0, 0

-- Visualizer
local visOn = true
local visColor = Color3.fromRGB(255, 80, 80)
local visTrans = 0.5
local visMaterial = "ForceField"

local hitbox = Instance.new("Part", workspace)
hitbox.Name = "a1qVisualizer"
hitbox.Anchored = true
hitbox.CanCollide = false
hitbox.Transparency = visTrans
hitbox.Color = visColor
hitbox.Material = Enum.Material.ForceField
hitbox.Size = Vector3.new(30, 30, 30)

local box = Instance.new("SelectionBox", hitbox)
box.LineThickness = 0.02
box.Color3 = visColor

-- Ball Predictor
local predOn = false
local advPred = false
local thick = 1.2
local maxBounces = 3
local predLines = {}

local dot = Drawing.new("Circle")
dot.Thickness = 3
dot.Color = Color3.fromRGB(255, 0, 0)
dot.Filled = true
dot.Radius = 12
dot.Visible = false

local timeLabel = Drawing.new("Text")
timeLabel.Size = 24
timeLabel.Color = Color3.fromRGB(255, 50, 50)
timeLabel.Center = true
timeLabel.Outline = true
timeLabel.Visible = false

-- Helper Functions
local function getCurrentReach()
    return reachMode == "Normal" and reachNormal or reachMode == "Comp" and reachComp or reachRFL
end

local function updateVisualizer()
    local r = getCurrentReach()
    hitbox.Size = Vector3.new(r.X, r.Y, r.Z)
    hitbox.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(offsetX, offsetY, offsetZ)
    hitbox.Transparency = visOn and visTrans or 1
    hitbox.Color = visColor
    hitbox.Material = Enum.Material[visMaterial]
    box.Color3 = visColor
    box.Transparency = visOn and visTrans or 1
end

local function getBall()
    for _, b in CollectionService:GetTagged("Ball") do if b:IsA("BasePart") then return b end end
    for _, b in workspace:GetDescendants() do
        if b:IsA("BasePart") and (b.Name:lower():find("ball") or b.Name:lower():find("football")) then return b end
    end
end

-- MAIN TAB
MainTab:AddButton({Title = "ACTIVATE REACH", Callback = function()
    reachOn = not reachOn
    Fluent:Notify({Title = "a1q Reach", Content = reachOn and "REACH ACTIVATED" or "REACH DEACTIVATED", Duration = 3})
end})

MainTab:AddDropdown("Reach Mode", {Title = "Reach Version", Values = {"Normal", "Comp", "RFL"}, Default = "Normal", Callback = function(v)
    reachMode = v
    updateVisualizer()
end})

MainTab:AddParagraph({Title = "Normal Reach", Content = "Casual / Safe"})
MainTab:AddSlider("Normal X", {Min = 0, Max = 150, Default = 15, Callback = function(v) reachNormal.X = v updateVisualizer() end})
MainTab:AddSlider("Normal Y", {Min = 0, Max = 150, Default = 15, Callback = function(v) reachNormal.Y = v updateVisualizer() end})
MainTab:AddSlider("Normal Z", {Min = 0, Max = 150, Default = 15, Callback = function(v) reachNormal.Z = v updateVisualizer() end})

MainTab:AddParagraph({Title = "Comp Reach", Content = "Competitive Level"})
MainTab:AddSlider("Comp X", {Min = 0, Max = 150, Default = 35, Callback = function(v) reachComp.X = v if reachMode=="Comp" then updateVisualizer() end end})
MainTab:AddSlider("Comp Y", {Min = 0, Max = 150, Default = 35, Callback = function(v) reachComp.Y = v if reachMode=="Comp" then updateVisualizer() end end})
MainTab:AddSlider("Comp Z", {Min = 0, Max = 150, Default = 35, Callback = function(v) reachComp.Z = v if reachMode=="Comp" then updateVisualizer() end end})

MainTab:AddParagraph({Title = "RFL Reach", Content = "Best Reach in the World"})
MainTab:AddSlider("RFL X", {Min = 0, Max = 150, Default = 75, Callback = function(v) reachRFL.X = v if reachMode=="RFL" then updateVisualizer() end end})
MainTab:AddSlider("RFL Y", {Min = 0, Max = 150, Default = 75, Callback = function(v) reachRFL.Y = v if reachMode=="RFL" then updateVisualizer() end end})
MainTab:AddSlider("RFL Z", {Min = 0, Max = 150, Default = 75, Callback = function(v) reachRFL.Z = v if reachMode=="RFL" then updateVisualizer() end end})

MainTab:AddParagraph({Title = "Offset", Content = "Move hitbox position"})
MainTab:AddSlider("Offset X", {Min = -50, Max = 50, Default = 0, Callback = function(v) offsetX = v updateVisualizer() end})
MainTab:AddSlider("Offset Y", {Min = -50, Max = 50, Default = 0, Callback = function(v) offsetY = v updateVisualizer() end})
MainTab:AddSlider("Offset Z", {Min = -50, Max = 50, Default = 0, Callback = function(v) offsetZ = v updateVisualizer() end})

-- VISUALS TAB
VisualsTab:AddToggle("Show Visualizer", {Default = true, Callback = function(v) visOn = v updateVisualizer() end})
VisualsTab:AddSlider("Transparency", {Min = 0, Max = 1, Default = 0.5, Rounding = 2, Callback = function(v) visTrans = v updateVisualizer() end})
VisualsTab:AddColorpicker("Visualizer Color", {Default = Color3.fromRGB(255,80,80), Callback = function(v) visColor = v updateVisualizer() end})
VisualsTab:AddDropdown("Material", {Values = {"ForceField","Neon","SmoothPlastic"}, Default = "ForceField", Callback = function(v) visMaterial = v updateVisualizer() end})

-- LOCAL PLAYER
LocalPlayerTab:AddToggle("Unlimited Stamina", {Default = false, Callback = function(v) stamOn = v end})

-- BALL MODS
BallModsTab:AddToggle("Ball Predictor", {Default = false, Callback = function(v) predOn = v end})
BallModsTab:AddToggle("Advanced Predictor", {Default = false, Callback = function(v) advPred = v end})
BallModsTab:AddSlider("Line Thickness", {Min = 0.2, Max = 10, Default = 1.2, Rounding = 1, Callback = function(v) thick = v end})
BallModsTab:AddSlider("Max Bounces", {Min = 0, Max = 10, Default = 3, Callback = function(v) maxBounces = v end})

-- AUTO FEATURES
AutoTab:AddToggle("Anti Ghosting", {Default = false, Callback = function(v) antiGhost = v end})
AutoTab:AddToggle("Pitch Teleport", {Default = false, Callback = function(v) pitchTP = v end})
AutoTab:AddToggle("Anti Votekick (Auto Rejoin)", {Default = false, Callback = function(v)
    if v then
        spawn(function()
            while AutoTab.Toggles["Anti Votekick (Auto Rejoin)"].Value do
                if player.PlayerGui:FindFirstChild("main") and player.PlayerGui.main:FindFirstChild("voteKick") then
                    local vk = player.PlayerGui.main.voteKick
                    if vk.Visible and vk:FindFirstChild("main") and vk.main:FindFirstChild("user") and vk.main.user.Text == player.Name then
                        if #Players:GetPlayers() <= 1 then
                            player:Kick()
                            task.wait()
                            TeleportService:Teleport(game.PlaceId, player)
                        else
                            TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, player)
                        end
                        break
                    end
                end
                task.wait()
            end
        end)
    end
end})

-- Heartbeat
RunService.Heartbeat:Connect(function()
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
    local hrp = player.Character.HumanoidRootPart
    local ball = getBall()
    if not ball then return end

    updateVisualizer()

    local reach = getCurrentReach()
    local maxReach = math.max(reach.X, reach.Y, reach.Z) / 2 + 10

    if reachOn then
        if (ball.Position - hrp.Position).Magnitude <= maxReach then
            for _, name in {"LeftFoot","RightFoot","LeftLowerLeg","RightLowerLeg","Left Leg","Right Leg",
                            "RightHand","LeftHand","RightLowerArm","LeftLowerArm","RightUpperArm","LeftUpperArm","Head","Torso"} do
                local limb = player.Character:FindFirstChild(name)
                if limb then firetouch(limb, ball, 0) firetouch(limb, ball, 1) end
            end
        end
    end

    -- Ball Predictor
    if predOn or advPred then
        for _, l in predLines do if l then l:Destroy() end end predLines = {}
        local pos = ball.Position
        local vel = ball.AssemblyLinearVelocity
        local bounce = 0
        while bounce < maxBounces do
            local result = workspace:Raycast(pos, vel * 0.5, RaycastParams.new())
            local endPos = result and result.Position or pos + vel * 0.5
            local line = Instance.new("Part", workspace)
            line.Anchored = true
            line.CanCollide = false
            line.Material = Enum.Material.Neon
            line.Color = Color3.fromRGB(0, 255, 255)
            line.Size = Vector3.new(thick, thick, (pos - endPos).Magnitude)
            line.CFrame = CFrame.new((pos + endPos)/2, endPos)
            table.insert(predLines, line)
            if result then
                vel = vel - 2 * vel:Dot(result.Normal) * result.Normal * 0.8
                pos = result.Position
                bounce = bounce + 1
            else
                break
            end
        end
        if advPred then
            local future = ball.Position + ball.AssemblyLinearVelocity * 0.42
            local sp, on = Camera:WorldToViewportPoint(future)
            if on then
                dot.Position = Vector2.new(sp.X, sp.Y)
                dot.Visible = true
                timeLabel.Text = string.format("%.2fs", (hrp.Position - future).Magnitude / math.max(ball.AssemblyLinearVelocity.Magnitude, 1))
                timeLabel.Position = Vector2.new(sp.X, sp.Y + 30)
                timeLabel.Visible = true
            else
                dot.Visible = false
                timeLabel.Visible = false
            end
        end
    else
        for _, l in predLines do if l then l:Destroy() end end predLines = {}
        dot.Visible = false
        timeLabel.Visible = false
    end
end)

Fluent:Notify({Title = "a1q Hub 2025+", Content = "Clean & Organized • Full Reach Control • RFL = GOD MODE", Duration = 12})
